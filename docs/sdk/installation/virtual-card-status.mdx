---
title: "Virtual Card Status"
---

The status of a virtual card determines whether a user can perform payments, needs to provision their card, or must contact support due to a suspension. CoinBridge provides this information via the `CBPaymentStatus` object, which is returned after initialization or whenever a state change occurs.

## Status Components

The `CBPaymentStatus` object contains three critical pieces of data that your application must evaluate:

### 1. Card Existence (`HasCard`)
This boolean indicates if a virtual card has been issued for the user.
* **True**: A card exists; you should move to provisioning or payment.
* **False**: No card exists; the user must go through the "Issue Card" flow.

### 2. Card Service Status (`CBCardStatus`)
This reflects the overall standing of the virtual card account.
* **ACTIVE**: The card is valid and ready for use or provisioning.
* **NOT_ACTIVE**: The card is suspended (e.g., due to fraud or user request).

### 3. Token Provisioning Status (`TokenStatus`)
This identifies if the card has been successfully added to a specific device's wallet.
* **ACTIVE**: Provisioned and ready for "Tap & Go" payments.
* **NOT_ACTIVE**: Provisioned, but the specific token is suspended.
* **NONE**: Not yet provisioned; the user must click "Add to Wallet".

---

## Managing Suspensions

CoinBridge distinguishes between account-level (Card) and device-level (Token) issues.

### Card Suspension
If `CBCardStatus` is `NOT_ACTIVE`, the entire service is restricted. This usually occurs due to suspected fraud or a manual block.
**Action**: Display a clear message prompting the user to contact customer support.

### Token Suspension
If the card is `ACTIVE` but a specific token is `NOT_ACTIVE`, only that device is affected. On iOS, a user might suspend a token via the "Find My" app.
**Action**: Instruct the user to remove the suspended token from their wallet and re-provision the card.

---

## Technical Reference: Status Retrieval

You should monitor the card status at several points in the application lifecycle:

| Trigger | Method / Callback | Purpose |
| :--- | :--- | :--- |
| **App Launch** | `onInitComplete` | Determine if the user should see the Payment screen or Onboarding. |
| **State Change** | `onPaymentMethodStatusChange` | Update the UI in real-time when a card is provisioned or suspended. |
| **Manual Check** | `CBPaymentStatus` | Verify device readiness immediately before a "Prepare to Pay" call. |

> **Note**: If `CBCardStatus` returns as `null`, your application must wait for the `onPaymentMethodStatusChange` event from the `CBNotification` service to receive the updated data.