---
title: "Authorize Transaction"
description: "Endpoint definition for approving or declining a purchase request."
api: "POST /coinbridge/api/v2/authorize"
---

## Overview

The **Authorize Transaction** endpoint is an optional synchronous authorization flow triggered by the CoinBridge Backend. It forwards incoming transaction details to your application's backend to decide whether to approve or decline the purchase.

### Critical Time Constraints
This endpoint operates within a synchronous authorization flow subject to strict card scheme time limits.
* **Response Requirement**: Your backend must respond within the pre-defined timeframe.
* **Timeout Behavior**: If your backend fails to respond in time, CoinBridge will automatically decline the transaction.

## Body Parameters

<ParamField body="reportId" type="string" required>
  Unique ID of this report for future tracking and reconciliation.
</ParamField>

<ParamField body="userId" type="string" required>
  The unique identifier of the user performing the transaction.
</ParamField>

<ParamField body="details" type="object" required>
  Comprehensive metadata regarding the purchase attempt.
  <Expandable title="Transaction Details Object">
    <ResponseField name="id" type="string">CoinBridge transaction ID.</ResponseField>
    <ResponseField name="timestamp" type="string">ISO-8601 UTC timestamp of the transaction.</ResponseField>
    <ResponseField name="transactionAmount" type="float">The purchase amount in the original transaction currency.</ResponseField>
    <ResponseField name="transactionCurrencyCode" type="string">3-letter ISO-4217 currency code.</ResponseField>
    <ResponseField name="mccCode" type="string">The Merchant Category Code (MCC).</ResponseField>
    <ResponseField name="merchant" type="object">
      Includes `name`, `id`, and `countryCode` of the merchant.
    </ResponseField>
  </Expandable>
</ParamField>

## Response Body

Your backend must return a decision object to finalize the authorization.

<ResponseField name="authId" type="string" required>
  A unique authorization ID generated by your system for matching later if needed.
</ResponseField>

<ResponseField name="decision" type="object" required>
  The final approval status.
  <Expandable title="Decision Object">
    <ResponseField name="approved" type="boolean">Set to `true` to authorize the transaction, or `false` to decline.</ResponseField>
    <ResponseField name="declineReason" type="string">
      Required if `approved` is `false`. Standard codes include `INSUFFICIENT_FUNDS`, `MCC_NOT_ALLOWED`, etc.
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```json
{
  "reportId": "da32fb9c-8cfa-459e-86c4-9d30037931e6",
  "userId": "user-12345",
  "details": {
    "id": "0ee8c4cb-a962-4b5f-8971-50c8bf1bec82",
    "timestamp": "2025-12-22T15:49:37.041Z",
    "transactionAmount": 84.53,
    "transactionCurrencyCode": "EUR",
    "mccCode": "1234",
    "merchant": {
      "name": "Speed Cars Ltd",
      "id": "123411",
      "countryCode": "DEU"
    }
  }
}
```
</RequestExample>

<ResponseExample>
```json
{
  "authId": "cdac8ccb-eaf1-48bc-84e4-92388e12a09c",
  "decision": {
    "approved": false,
    "declineReason": "INSUFFICIENT_FUNDS"
  }
}
```
</ResponseExample>

## Security

This request includes a **JWT (RS256)** in the `Authorization` header with the `Bearer` prefix. Your backend must verify the signature using the **RSA public key** provided by CoinBridge.

| Header | Value |
| :--- | :--- |
| **Authorization** | `Bearer <JWT_TOKEN>` |