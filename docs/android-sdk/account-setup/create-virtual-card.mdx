# Issuing a Payment Method (IssueCard)

Finalize the pre-payment journey by creating and provisioning the user's virtual payment card.

## Overview
The `IssueCard` method is the core SDK function that generates the virtual card. Depending on your country's regulations, this process may occur automatically in the background or require additional user data (such as a National ID or SSN).



## Implementation Scenarios

#### Scenario 1: No Additional Data Required
CoinBridge creates the payment method and automatically pushes it to the SDK wallet in the background. No further user action is needed.

#### Scenario 2: Additional Data Required
The user must provide specific details (e.g., SSN/National ID) and consent to terms via a dedicated card-issuer form.
> **Note:** You must properly onboard and explain *why* this data is needed to ensure a high onboarding rate.

## Technical Implementation

### Platform Implementation

Call the `issueCard` method from the `CoinBridgeSDK` instance:

```java
CoinBridgeSDK.getInstance().issueCard(activity, new OnIssueCardCallback() {
    @Override
    public void onSuccess() {
        // Success: Virtual card issuing flow finalized.
        // Notify the user and redirect to the payment home screen.
    }

    @Override
    public void onError(CBError<IssueCardError> error) {
        // Handle failure (e.g., INVALID_REQUEST_DATA). 
    }

    // Optional UI callbacks if CoinBridge presents a form:
    @Override public void onShown() { } 
    @Override public void onAbandon() { } 
});
```

### User Experience Guidelines

The virtual card issuing and provisioning process usually takes up to **10 seconds** to complete.
* **Loader Animation**: You must show a loader animation with appropriate on-screen text, notifying the user to wait a few moments until the process is completed.
* **Stay in App**: The user must not leave the application before this process is finalized to ensure the handshake completes successfully.
* **Abort Handling**: If the process is aborted (e.g., the user leaves the application), it will automatically restart upon re-entering the app and performing a successful initialization of the CoinBridge SDK.

