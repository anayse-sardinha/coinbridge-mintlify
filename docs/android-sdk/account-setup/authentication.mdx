---
title: "Authentication"
---

The Authentication process correlates a user's unique identifier between the **CoinBridge SDK** and the **CoinBridge Back-End Connector**. This synchronization is essential for CoinBridge to dynamically retrieve information from your platform whenever a user makes a purchase.

## Check Authentication Status

To ensure a seamless experience, follow these steps to ensure your application checks the SDK authentication state every time it starts or returns from the background:

1. Call the `isAuthenticated(context)` method as early as possible in your app lifecycle.

2. Check the result:
* **If `true`**: The SDK is already authenticated for this device. You must proceed to the **Initialization** method.
* **If `false`**: The SDK does not recognize the session. You must perform the [Authentication Process](#the-authentication-process).

---

## The Authentication Process

Initiate this process only if the `isAuthenticated` check returns `false`.

### 1. Generate a JWT (Back-End)
For security, you must generate a JSON Web Token (JWT) on your **server-side**. Storing private keys or generating tokens on the client side is not secure and is considered bad practice.

* **Algorithm**: The JWT must be signed using the `RS256` algorithm.
* **Payload Requirements**: The payload must include specific entries for user identification and security:
    * `jti`: A unique identifier for this specific JWT.
    * `iat`: Unix time (seconds) when the JWT was issued.
    * `exp`: Expiration time. This must be no later than two minutes after the `iat` time.
    * `aud`: Must be set to `"CoinBridge"`.
    * `iss`: Set to the unique application key provided by CoinBridge.
    * `sub`: A unique identifier for the logged-in user in your system.

> **Privacy Note:** For data protection, do not use real user IDs, phone numbers, or emails as the `sub` value, as CoinBridge systems do not apply special encryption to this field.

### 2. Add Eligibility Data
Depending on your country's regulations, extra details (such as country of residence) may be required to assess eligibility. You must provide this data during the Authentication process to allow the backend to evaluate service access.

### 3. Call the Authenticate Method
Pass the JWT from your back-end to the SDK and wait for the success or error callback.

#### Android: Authentication Example 
```java
CoinBridgeSDK.getInstance().authenticate(context, jwt, new OnAuthenticationCallback() {
    @Override
    public void onAuthenticated() {
        // Success: Proceed to call Initialization
    }
    @Override
    public void onError(CBError<AuthError> error) {
        // Handle authentication failure
    }
});
```

## Next Steps

Once the `onAuthenticated` callback is received, the SDK is associated with the user, but service is not yet active. Your next mandatory step is to Initialize the SDK to sync wallet and card status.